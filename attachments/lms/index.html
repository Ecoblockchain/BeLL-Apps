<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Bell LMS</title>
  <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet" media="screen" />
  <link href="vendor/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" media="screen" />
  <link rel="stylesheet" href="app/app.css"/>

  <!--
    DEPENDENCIES
  -->

  <script src="vendor/jquery-1.7.2.js"></script>
  <script src="vendor/underscore-1.4.4.js"></script>
  <script src="vendor/backbone-1.0.0.js"></script>
  <script src="vendor/backbone-forms.js"></script>
  <script src="/_utils/script/json2.js"></script>
  <script src="/_utils/script/jquery.couch.js?0.8.0"></script>
  <script src="/_utils/script/jquery.form.js?0.9.0"></script>
  <script src="vendor/sha1.js"></script>
  <script src="vendor/jquery.couch.js"></script>
  <script src="vendor/jquery.cookie.js"></script>
  <script src="vendor/backbone.couchdb.js"></script>
  <script src="vendor/html-encode.js"></script>
  <script src="vendor/jquery.url.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.js"></script>

  <!--
    App
  -->

  <script src="app/App.js"></script>
  <script src="app/Router.js"></script>

  <script src="app/models/Resource.js"></script>
  <script src="app/models/Group.js"></script>
  <script src="app/models/Member.js"></script>
  <script src="app/models/Credentials.js"></script>
  <script src="app/models/Assignment.js"></script>
  <script src="app/models/Feedback.js"></script>

  <script src="app/collections/Groups.js"></script>
  <script src="app/collections/Members.js"></script>
  <script src="app/collections/Resources.js"></script>
  <script src="app/collections/GroupAssignments.js"></script>
  <script src="app/collections/ResourceFeedback.js"></script>

  <script src="app/views/GroupForm.js"></script>
  <script src="app/views/MemberForm.js"></script>
  <script src="app/views/MemberLoginForm.js"></script>
  <script src="app/views/GroupRow.js"></script>
  <script src="app/views/MemberRow.js"></script>
  <script src="app/views/GroupsTable.js"></script>
  <script src="app/views/MembersTable.js"></script>
  <script src="app/views/ResourceForm.js"></script>
  <script src="app/views/ResourceRow.js"></script>
  <script src="app/views/ResourcesTable.js"></script>
  <script src="app/views/FeedbackTable.js"></script>
  <script src="app/views/FeedbackRow.js"></script>
  <script src="app/views/FeedbackForm.js"></script>
  <script src="app/views/AssignResourcesToGroupTable.js"></script>
  <script src="app/views/AssignResourceToGroupRow.js"></script>

  <!-- 
    Templates 
  -->

  <script type="text/template" id="template-ResourcesTable">

    <tr class='header'>

    </tr>

  </script>


  <script type="text/template" id="template-ResourcesTableHeader">

      <td colspan=99 style='padding: 15px'>
        <h3 style='float:left;'>
          Resources in <%= name %>
        </h3>
        <a style='float: left; margin: 16px;' class='btn' href='#collection/resource/add/<%= database %>'> 
          <i class='icon-plus-sign'></i> Create a new Resource
        </a>
      </td>

  </script>


  <script type="text/template" id="template-app">
    <div id="debug"></div>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">BeLL LMS</a>
          <div class="nav-collapse collapse">
            <ul class="nav">

            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <!-- Body -->
    <div class="container body">
      <!-- Content -->
    </div>
     
  </script>
  
  <!--
    This template is for models that need to upload attachment files to CouchDB
    -->
  <script type="text/template" id="template-form-file">
    <table class="table table-striped">
      <th> 
        <h2>
          <%= header %>
        </h2> 
      </th>
      <tr>
        <td colspan="2" class="fields">
          <!-- The first form that will be submitted without the file -->
          <%= form %>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <!-- The Second form that will be submitted containing the file -->
          <form method="post" id="fileAttachment"><input type="file" name="_attachments" id="_attachments" multiple="multiple" /> <input class="rev" type="hidden" name="_rev"></form>
        </td>
      </tr>
      <tr>
        <td>
          <div class="btn save" name="save">
            save
          </div>
        </td>
        <td class="status">
          <!-- status goes here -->
        </td>
      </tr>
    </table>
  </script>

  <script type="text/template" id="template-nav-logged-in"> 
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-flag icon-white"></i> Teams <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#teams"><i class="icon-list"></i> List Teams</a></li>
        <li><a href="#team/add"><i class="icon-plus"></i> Add a new Team</a></li>
      </ul>
    </li>

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-user icon-white"></i> Members <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#members"><i class="icon-list"></i> List Members</a></li>
        <li><a href="#member/add"><i class="icon-plus"></i> Add a new Member</a></li>
      </ul>
    </li>

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-book icon-white"></i> Resources <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#resources"><i class="icon-list"></i> List Resources</a></li>
        <li><a href="#resource/add"><i class="icon-plus"></i> Add a new Resource</a></li>
      </ul>
    </li>

    <li> 
      <a href="../personal/index.html"><i class="icon-briefcase icon-white"></i> Personal BeLL</a>
    </li>

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-download-alt icon-white"></i> Install <b class="caret"></b></a>
      <ul class="dropdown-menu">

        <li> 
          <a href="../install.html">Install/Update Apps on this Device</a>
        </li>

        <li> 
          <a href="#compile">Install/Update Apps and Resources on this Device </a>
        </li>
      </ul>
    </li>


    <li> 
      <a href="#logout">
        <i class="icon-plane icon-white"></i> Log out
      </a>
    </li>
  </script>

  <script type="text/template" id="template-nav-log-in"> 
    <li> 
      <a href="../personal/index.html"><i class="icon-briefcase icon-white"></i> Personal BeLL</a>
    </li>

    <li> 
      <a href="../install.html"><i class="icon-download-alt icon-white"></i> Install BeLL Apps on this device</a>
    </li>
  </script>


  <script type="text/template" id="resource-item-template">
    <td style="padding: 20px">
      <%= name %>
    </td>
    <td>
      <a class="btn" href="/hubble/_design/hubble-server/apps/PDFjs2/web/viewer.html#pouch=<%= pouch %>&pouchAttachment=<%= pouchAttachment %>"><i class="icon-eye-open"></i> view</a>
    </td>
    <td>
      <a class="btn download" href="#"><i class="icon-circle-arrow-down"></i> download</a>
    </td>
    <td>
      <a class="btn destroy"> <i class="icon-remove"></i> delete</a></label>
    </td>
  </script>

  <script type="text/html" id="template-AssignResourcesToGroupTable">
    <h1> 
      Select resources to assign to <%= groupName %>
    </h1>
    <table class="table table-striped">
    </table>
  </script>

  <script type="text/html" id="template-AssignResourceToGroupRow">
    <td>
      <%= title %>
    </td>
    <td>
      <a class='btn' href='/apps/_design/bell/pdf.js/viewer.html#file=/resources/<%= _id %>/<%= fileName %>' target="_blank">
        <i class='icon-eye-open'></i> Preview
      </a>
    </td>
    <td>
      <a class="btn" href="#resource/feedback/<%= _id %>" target="_blank">
        <i class="icon-comment"></i> Feedback
      </a>
    </td>
    <td class='assignment-status'>
      <% if(assignmentId != false) { %>
        <a class='btn btn-danger unassign' data-group-id='<%= groupId %>' data-assignment-id="<%= assignmentId %>" href='#'>unassign</a>
      <% } else { %>
        <a class='btn btn-success assign' data-group-id='<%= groupId %>' href='#'>assign</a>
      <% } %>       
    </td>
  </script>

  <script type="text/html" id="template-FeedbackRow">
    <td>
      <%= comment %>
    </td> 

    <td>
      <%= rating %>
    </td>

    <td>
      <%= memberName %>
    </td>

  </script>

  <script type="text/html" id="template-GroupRow">
    <td>
      <%= name %>
    </td> 

    <td>
      <a role='button' class='btn' href='#team/assign/<%= _id %>'> 
        <i class="icon-list"></i> Assignments
      </a>
    </td>

    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>

  </script>

  <script type="text/html" id="template-MemberRow">
    <td>
      <%= login %>
    </td> 

    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>

  </script>


  <script type="text/html" id="template-ResourceRow">
    <td>
      <%= title %>
    </td> 
    <td>
      <a class='btn' href='/apps/_design/bell/pdf.js/viewer.html#file=/resources/<%= _id %>/<%= fileName %>' target='_blank'>
        <i class='icon-eye-open'></i> Preview
      </a>
    </td>
    <td>
      <a class='btn' href='/resources/<%= _id %>/<%= fileName %>'>
        <i class='icon-download'></i> Download
      </a>
    </td>
    <td>
      <a class='btn' href='#resource/edit/<%= _id %>'>
        <i class='icon-pencil'></i> Edit
      </a>
    </td>
    <td>
      <a class='btn' href='#resource/feedback/<%= _id %>' target="_blank">
        <i class='icon-comment'></i> Feedback
      </a>
    </td>
    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>
  </script>



  
</head>

<body>


</body>

  <!-- 
    START THE APP
  -->

  <script>
    $(document).ready(function() {
      App.start()
    })
  </script>

</html>
