<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Bell LMS</title>
  <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet" media="screen" />
  <link href="vendor/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" media="screen" />
  <link href="vendor/spectrum.css" rel="stylesheet" media="screen" />
  <link rel="stylesheet" href="app/app.css"/>
  

  <!--
    DEPENDENCIES
  -->

  <script src="vendor/jquery-1.7.2.js"></script>
  <script src="vendor/spectrum.js"></script>
  <script src="vendor/underscore-1.4.4.js"></script>
  <script src="vendor/backbone-1.0.0.js"></script>
  <script src="vendor/backbone-forms.js"></script>
  <script src="/_utils/script/json2.js"></script>
  <script src="/_utils/script/jquery.couch.js?0.8.0"></script>
  <script src="/_utils/script/jquery.form.js?0.9.0"></script>
  <script src="vendor/sha1.js"></script>
  <script src="vendor/moment.min.js"></script>
  <script src="vendor/jquery.couch.js"></script>
  <script src="vendor/jquery.cookie.js"></script>
  <script src="vendor/backbone.couchdb.js"></script>
  <script src="vendor/html-encode.js"></script>
  <script src="vendor/jquery.url.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.js"></script>
  <script src="vendor/jquery.raty.js"></script>

  <!--
    App
  -->

  <script src="app/App.js"></script>
  <script src="app/Router.js"></script>

  <script src="app/models/Resource.js"></script>
  <script src="app/models/Group.js"></script>
  <script src="app/models/Member.js"></script>
  <script src="app/models/Credentials.js"></script>
  <script src="app/models/Assignment.js"></script>
  <script src="app/models/Feedback.js"></script>
  <script src="app/models/App.js"></script>
  <script src="app/models/Shelf.js"></script>
  <script src="app/models/Invitation.js"></script>
  <script src="app/models/CourseStep.js"></script>

  <script src="app/collections/Groups.js"></script>
  <script src="app/collections/Members.js"></script>
  <script src="app/collections/Resources.js"></script>
  <script src="app/collections/Apps.js"></script>
  <script src="app/collections/GroupAssignments.js"></script>
  <script src="app/collections/GroupAssignmentsByDate.js"></script>
  <script src="app/collections/AssignmentsByDate.js"></script>
  <script src="app/collections/ResourceFeedback.js"></script>
  <script src="app/collections/SearchResource.js"></script>
  <script src="app/collections/CourseLevels.js"></script>

  <script src="app/views/GroupForm.js"></script>
  <script src="app/views/MemberForm.js"></script>
  <script src="app/views/MemberLoginForm.js"></script>
  <script src="app/views/GroupRow.js"></script>
  <script src="app/views/MemberRow.js"></script>
  <script src="app/views/GroupsTable.js"></script>
  <script src="app/views/MembersTable.js"></script>
  <script src="app/views/ResourceForm.js"></script>
  <script src="app/views/ResourceRow.js"></script>
  <script src="app/views/ResourcesTable.js"></script>
  <script src="app/views/FeedbackTable.js"></script>
  <script src="app/views/FeedbackRow.js"></script>
  <script src="app/views/FeedbackForm.js"></script>
  <script src="app/views/AssignResourcesToGroupTable.js"></script>
  <script src="app/views/AssignWeekOfResourcesToGroupTable.js"></script>
  <script src="app/views/AssignResourceToGroupRow.js"></script>
  <!-- Level Views -->
  <script src="app/views/LevelsTable.js"></script>
  <script src="app/views/LevelRow.js"></script>
  <script src="app/views/LevelForm.js"></script>
  <script src="app/views/QuizView.js"></script>

  <!-- LMS SEARCH -->
  <script src="app/views/Search.js"></script>
  <script src="app/views/SearchSpan.js"></script>
  <script src="app/views/SearchSpans.js"></script>

  
  <!-- ALL Code Regarding the Search Function -->
  <script>
  var searchText = "";
  var skip = 0;    //Variable used to skip the number of records been fetched before.
  var enablenext=0;
  var searchRecordsPerPage = 2;
  var limitofRecords = 5;
  var skipStack = new Array();
  var lastpage = false;
  var grpId;
  var levelrevid;
  function selectAllSearchResult()
  {
      $("input[name='result']").each( function () {
		$(this).prop('checked', true);
      })
  }
  function showSearchView()
  {
      App.Router.SearchBell(grpId);
  }
  function searchResources()
  {
      skip = 0;
      popAll();
      lastpage = false;
      App.Router.SearchResult();
      $('#previous_button').remove()
      $('#searchText').focus();
      $("#searchText").val(searchText)
  }
  function popAll()
  {
      while(skipStack.length > 0 )
      {
            skipStack.pop();        
      }
  }
  function nextPageButtonPressed()
  {
      App.Router.SearchResult();
      $("#searchText").val(searchText);
  }
  function previousPageButtonPressed(){
      if(skipStack.length > 1){
          skipStack.pop();
          skip = skipStack.pop();
          App.Router.SearchResult();
          $("#searchText").val(searchText);
        }
        else{
             $('#previous_button').remove()
        }
  }

  function onFocus(obj) { 
    var end = obj.value.length; 
    if(obj.setSelectionRange) 
    obj.setSelectionRange(end, end); 
  }
  function showSubjectCheckBoxes()
  {

  	var subjects = ['AGR (Agriculture)','BUS (Business and Finance)','FAS (Fine Arts)','FNU (Food and Nutrition)','GEO (Geography)','HMD (Health & Medicine)','HIS (History)','HDV (Human Development)','LAN (Languages)','LAW (Law)','LEA (Learning)','LIT (Literature)','MAT (Math)','MUS (Music)','POL (Politics & Government)','REF (Reference)','REL (Religion)','SCI (Science)','SOC (Social Sciences)','SPO (Sports)','TEC (Technology)'];
  	var length = subjects.length;
  	var htmlString = "<h4>Subject</h4>" ; 
  	for(var i=0 ; i<length ; i++)
  	{
  		htmlString = htmlString + '<input id="subject' + (i+1) + '" type="checkbox" name="subject" value="' + subjects[i] +'">' ;   
        htmlString = htmlString + '<label for="subject' + (i+1) + '">' + subjects[i] + '</label>' ;  
        htmlString = htmlString + '<br>' ; 
  	}
  	$("#SubjectCheckboxes").html(htmlString);
 
  }
  </script>
  
  
  
  
  <!-- 
    Templates 
  -->

  <script type="text/template" id="template-ResourcesTable">

    <tr class='header'>

    </tr>

  </script>


  <script type="text/template" id="template-ResourcesTableHeader">

      <td colspan=99 style='padding: 15px'>
        <h3 style='float:left;'>
          Resources in <%= name %>
        </h3>
        <a style='float: left; margin: 16px;' class='btn' href='#collection/resource/add/<%= database %>'> 
          <i class='icon-plus-sign'></i> Create a new Resource
        </a>
      </td>

  </script>


  <script type="text/template" id="template-app">
    <div id="debug"></div>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">BeLL LMS</a>
          <div class="nav-collapse collapse">
            <ul class="nav">

            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <!-- Body -->
    <div class="container body">
      <!-- Content -->
    </div>
     
  </script>
  
  <!--
    This template is for models that need to upload attachment files to CouchDB
    -->
  <script type="text/template" id="template-form-file">
    <table class="table table-striped">
      <th> 
        <h2>
          <%= header %>
        </h2> 
      </th>
      <tr>
        <td colspan="2" class="fields">
          <!-- The first form that will be submitted without the file -->
          <%= form %>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <!-- The Second form that will be submitted containing the file -->
          <form method="post" id="fileAttachment"><input type="file" name="_attachments" id="_attachments" multiple="multiple" /> <input class="rev" type="hidden" name="_rev"></form>
          <div id="progressImage" style ="margin-top:-6%;margin-left:92%;"><img src="vendor/progress.gif" width="36px" height="36px" /></div>
        </td>
      </tr>
      <tr>
        <td>
          <div class="btn save" name="save">
            save
          </div>
        </td>
        <td class="status">
          <!-- status goes here -->
        </td>
      </tr>
    </table>
  </script>

  <script type="text/template" id="template-nav-logged-in"> 
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-flag icon-white"></i> Courses <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#courses"><i class="icon-list"></i> List Courses</a></li>
        <li><a href="#course/add"><i class="icon-plus"></i> Add a new Course</a></li>
      </ul>
    </li>

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-user icon-white"></i> Members <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#members"><i class="icon-list"></i> List Members</a></li>
        <li><a href="#member/add"><i class="icon-plus"></i> Add a new Member</a></li>
      </ul>
    </li>

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-book icon-white"></i> Resources <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="#resources"><i class="icon-list"></i> List Resources</a></li>
        <li><a href="#resource/add"><i class="icon-plus"></i> Add a new Resource</a></li>
      </ul>
    </li>

    <li> 
      <a href="../personal/index.html"><i class="icon-briefcase icon-white"></i> Personal BeLL</a>
    </li>

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-download-alt icon-white"></i> Install <b class="caret"></b></a>
      <ul class="dropdown-menu">

        <li> 
          <a href="#compile/">Compile all Apps and all Resources for Syncing</a>
        </li>
        <li> 
          <a href="#compile/week">Compile Apps and this week's Assigned Resources for Syncing</a>
        </li>

      </ul>
    </li>


    <li> 
      <a href="#logout">
        <i class="icon-plane icon-white"></i> Log out
      </a>
    </li>
  </script>

  <script type="text/template" id="template-nav-log-in"> 
    <li> 
      <a href="../personal/index.html"><i class="icon-briefcase icon-white"></i> Personal BeLL</a>
    </li>

    <li> 
      <a href="/devices/_design/all/update.html"><i class="icon-download-alt icon-white"></i> Install BeLL Apps on this device</a>
    </li>
  </script>


  <script type="text/template" id="resource-item-template">
    <td style="padding: 20px">
      <%= name %>
    </td>
    <td>
      <a class="btn" href="/hubble/_design/hubble-server/apps/PDFjs2/web/viewer.html#pouch=<%= pouch %>&pouchAttachment=<%= pouchAttachment %>"><i class="icon-eye-open"></i> view</a>
    </td>
    <td>
      <a class="btn download" href="#"><i class="icon-circle-arrow-down"></i> download</a>
    </td>
    <td>
      <a class="btn destroy"> <i class="icon-remove"></i> delete</a></label>
    </td>
  </script>

  <script type="text/html" id="template-AssignWeekOfResourcesToGroupTable">
    <div class="AssignWeekOfResourcesToGroupTable-header">
      <h1> 
      Resources assign to <%= groupName %>
     <!--   Select resources to assign to <%= groupName %> -->
      </h1>
    <!--  <h3>
         <a href="#course/assignments/week-of/<%= groupId %>/<%= priorWeekOf %>"><-- Prior week</a> | Week of <%= weekOf %> | <a href="#course/assignments/week-of/<%= groupId %>/<%= nextWeekOf %>"> Next week -></a>
      </h3> -->
    </div>
    <table class="table table-striped">
      <!-- Resources -->
    </table>
    <button class="btn btn-hg btn-primary" onclick = "document.location.href='#search-bell/<%= groupId %>'">Add new resources</button>
    <button class="btn btn-hg btn-primary" onclick = "document.location.href='#create-quiz'">Create Quiz</button>
  </script>

  <script type="text/html" id="template-AssignResourcesToGroupTable">
    <h1> 
      Select resources to assign to <%= groupName %>
    </h1>
    <table class="table table-striped">
    </table>
  </script>

  <script type="text/html" id="template-AssignResourceToGroupRow">
    <td>
    <%if(resource.title){ %>
      <%= resource.title %>
    <%}%>
    </td>
    <td>
      <a class='btn' href='/apps/_design/bell/bell-resource-router/index.html#open/<%= resource._id %>' target="_blank">
        <i class='icon-eye-open'></i> Open 
      </a>
    </td>
    <td>
      <a class="btn" href="#resource/feedback/<%= resource._id %>" target="_blank">
        <i class="icon-comment"></i> Feedback
      </a>
    </td>
    <td class='assignment-status'>
      <% if(assignment._id || assignment.id) { %>
        <a class='btn btn-danger unassign' href='#'>unassign</a>
      <% } else { %>
        <a class='btn btn-success assign' href='#'>assign</a>
      <% } %>       
    </td>
  </script>

  <script type="text/html" id="template-FeedbackRow">
    <td>
      <%= comment %>
    </td> 

    <td>
	<%=rating%>
  </td>

  </script>

  <script type="text/html" id="template-GroupRow">
    <td>
      <%= name %>
    </td> 

    <td>
      <a role='button' class='btn' href='#course/manage/<%= _id %>'> 
        <i class="icon-list"></i> Manage
      </a>
    </td>

    <td>
      <a role='button' class='btn' href='#course/edit/<%= _id %>'> 
        <i class="icon-edit"></i> Edit
      </a>
    </td>    

    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>

  </script>
  
  <script type="text/html" id="template-LevelRow">
    <td>
      <%= title %> : Level <%= level %>
    </td> 
   <td>
      <a role='button' class='btn' href='#level/edit/<%= _id %>'> 
        <i class="icon-edit"></i> Edit
      </a>
    </td>    

    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>

  </script>

  <script type="text/html" id="template-MemberRow">
    <td>
      <%= login %>
    </td> 

    <td>
      <a role='button' class='btn' href='#member/edit/<%= _id %>'> 
        <i class="icon-edit"></i> Edit
      </a>
    </td>  

    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>
   <% if(status == "active"){%>
    <td>
      <a class='btn btn-danger' id="deactive" href='#'>Resign</a>
    </td>
   <%} else {%>
    <td>
      <a class='btn btn-success' id="active" href='#'>Reinstate</a>
    </td>
   <% } %>
  </script>


  <script type="text/html" id="template-ResourceRow">
    <% if(title){ %>  // Added A View In the Resources Db with Id _Design/Bell had to place title with Null else it gives me ReferenceError
    <td>
        <%= title %>
    </td> 
    <td>
      <a class='btn' href='/apps/_design/bell/bell-resource-router/index.html#open/<%= _id %>' target="_blank">
        <i class='icon-eye-open'></i> Open
      </a>
    </td>
    <td>
      <a class='btn' href='/apps/_design/bell/bell-resource-router/index.html#download/<%= _id %>' target="_blank">
        <i class='icon-download'></i> Download
      </a>
    </td>
    <td>
      <a class='btn' href='#resource/edit/<%= _id %>'>
        <i class='icon-pencil'></i> Edit
      </a>
    </td>
    <td>
      <a class='btn' href='#resource/feedback/<%= _id %>' target="_blank">
        <i class='icon-comment'></i> Feedback
      </a>
    </td>
    <td>
      <a class='destroy btn' href='#'>
        <i class='icon-remove'></i> Delete
      </a>
    </td>
  <% } %>
  </script>
  
  <script type="text/html" id="template-rateResource">
        <div id="star" >
        </div>
  </script>

<!--LMS SEARCH APP-->
<script type="text/html" id="template-Search">
<div id="search">
<div class="row">
    <div class="col-lg-5">
        <div class="form-group search-Box">
           <h4>Keyword:&nbsp;<input class="form-control" type="text" placeholder="Search" value="" size="30" id="searchText" style="height:24px;margin-top:1%;"></input>
            <span><button class="btn btn-info" onclick = "searchResources()">Search</button></span></h4>
        </div>
        <br/>
     <div class="checkbox">  
        <h4>Tag</h4>
        <input id="check1" type="checkbox" name="tag" value="News">  
        <label for="check1">News</label>  
        <br>  
        <input id="check2" type="checkbox" name="tag" value="Fiction">  
        <label for="check2">Fiction</label> 
         <br>  
        <input id="check3" type="checkbox" name="tag" value="Non Fiction">  
        <label for="check3">Non Fiction</label>  
    </div>
    <div class="checkbox-subject" id="SubjectCheckboxes">  
     <!--   <script>
        	//showSubjectCheckBoxes();
        </script> -->
    <!--    <input id="subject1" type="checkbox" name="subject" value="News">  
        <label for="subject1">News</label>  
        <br>  
        <input id="subject2" type="checkbox" name="subject" value="Fiction">  
        <label for="subject2">Fiction</label> 
         <br>  
        <input id="subject3" type="checkbox" name="subject" value="Non-Fiction">  
        <label for="subject3">Non Fiction</label> -->
    </div>
  <!--<div class="checkbox-length">  
        <h4>Length</h4>
        <input id="pbook" type="checkbox" name="length" value="Picture-Book">  
        <label for="pbook">Picture Books</label>  
        <br>  
        <input id="cbook1" type="checkbox" name="length" value="Chapter-Book-Short">  
        <label for="cbook1">Chapter Books (Short)</label> 
         <br>  
        <input id="cbook2" type="checkbox" name="length" value="Chapter-Book-Long">  
        <label for="cbook2">Chapter Books (Long)</label>  
    </div>  -->
    </div>
</div>
<div class="search-result-header">
    <h3 class="search-result-h3">Search Results</h3>
    <h4>Result for:&nbsp;<input class="form-control" type="text" placeholder="Search" value="" size="30" id="searchText2" style="height:24px;margin-top:1%;"></input></h4>
</div>
<br>
    <button class="btn btn-hg btn-primary" onclick = "selectAllSearchResult()" id="selectAllButton">Select All</button>
<br/><br/>
    <table id="srch"> 
    </table>
<div id="not-found" style="color:red; margin-left:34%; font-size:20px;"></div>
</div>
		    <div class="search-bottom-nav">
		    <br/>
                    <table class="search-bottom-nav-table">
                       <tr>
                          <td class="previous-button-container">
                               <button class="btn btn-hg btn-primary" id="previous_button" onclick = "previousPageButtonPressed()"><  Previous</button>
                          </td>  
                          <td class="next-button-container">
                               <button class="btn btn-hg btn-primary" id="next_button" onclick = "nextPageButtonPressed()">Next  ></button>
 
                          </td>
                        </tr>
                    </table>
                    <br/><br/>
                    <button class="btn btn-hg btn-primary" onclick = "showSearchView()">Return to Search</button>
                    <!--<button class="btn btn-hg btn-primary" onclick = "document.location.href='#assign-to-shelf'">Send to My Shelf</button>-->
                    <button class="btn btn-hg btn-success" onclick = "document.location.href='#assign-to-level'">Add To Level</button>
                    <button class="btn btn-hg btn-success" onclick = "document.location.href='#courses'">Home</button>
                    </div>
</script>

<script type="text/html" id="template-Search-box">
    <td><input id="<%= _id %>" type="checkbox" name="result" value="<%= _id %>" rTitle="<%= title %>">
    	<label for="<%= _id %>">
    		<font class="search-result-title" ><%= title %></font>
    		-<%= description %>&nbsp;by&nbsp;<%= author %>
    	</label></td><td><%= Tag %></td>
</script>
<script type="text/template" id="make-Quiz">
<div id="quiz-body">
<br/>
Courses | <%= courseTitle %>
<h4 id="new-quiz">New Quiz</h4>
<div id="question-area">
	<div id="question-no">Question 1: </div>
	<div id="question-box"><textarea rows="3"  style="width:415%;height:100px" id="quizQuestion" placeholder="Enter your question here" ></textarea><br/></div>
</div>
<div id="option-area">
<br/>
&nbsp;&nbsp;Response Options:<br/>
&nbsp;&nbsp;(Identify the right response)
<div id="options-table">
<table style="border-spacing: 36px 0px;border-collapse:separate;">
<tr><td><input type="radio" name="options" value="option1" id="Radio-margin"/>&nbsp;<input type="text" id="option1" placeholder="Option A" /></td>
<td><input type="radio" name="options" value="option2" id="Radio-margin"/>&nbsp;<input type="text" id="option2" placeholder="Option B" /></td></tr>
<tr><td><input type="radio" name="options" value="option3" id="Radio-margin" />&nbsp;<input type="text" id="option3" placeholder="Option C" /></td>
<td><input type="radio" name="options" value="option4" id="Radio-margin"/>&nbsp;<input type="text" id="option4" placeholder="Option D" /></td></tr>
<tr><td><input type="radio" name="options" value="option5" id="Radio-margin" />&nbsp;<input type="text" id="option5" placeholder="Option E" /></td></tr></table>
</div>
</div>
<br/>
<button class="btn btn-hg btn-primary" id="prev-question" >Previous Question</button>
<button class="btn btn-hg btn-primary" id="next-question" >Next Question</button>
<button class="btn btn-hg btn-success" id="save-quiz" >Save Quiz</button>

</div>
</script>

</head>

<body>
</body>

  <!-- 
    START THE APP
  -->

  <script>
    $(document).ready(function() {
      App.start()
    })
  </script>

</html>
